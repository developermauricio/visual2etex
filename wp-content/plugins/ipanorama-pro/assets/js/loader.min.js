!function(e,l,w,a){"use strict";e(w).ready(function(u){if(!l.IPANORAMA||!l.IPANORAMA.WordPressLoaderInit){l.IPANORAMA?l.IPANORAMA.WordPressLoaderInit=!0:l.IPANORAMA={WordPressLoaderInit:!0};var v=0,f=u("head"),y=(u("body"),"ipnrm-effects-css"),b="ipnrm-fontawesome-css",h="ipnrm-googlemaps-js",e=u("<link>"),t=u("<link>"),s=u("<script>"),a=u("<script>"),n=u("<script>");e.attr({rel:"stylesheet",type:"text/css",href:ipanorama_globals.plugin_base_url+"ipanorama.min.css?ver="+ipanorama_globals.plugin_version}).appendTo(f);var i=w.getElementsByTagName("head").item(0);i.appendChild(s.get(0)),i.appendChild(a.get(0)),i.appendChild(n.get(0)),s.on("load",function(){a.attr({type:"text/javascript",src:ipanorama_globals.plugin_base_url+"ipanorama.min.js?ver="+ipanorama_globals.plugin_version})}),a.on("load",function(){n.attr({type:"text/javascript",src:ipanorama_globals.plugin_base_url+"jquery.ipanorama.min.js?ver="+ipanorama_globals.plugin_version})}),n.on("load",function(){if("pro"!=ipanorama_globals.plan)var e=setInterval(function(){0!=u(".ipnrm.ipnrm-ready").length&&clearInterval(e)},3e3)});var r=u(".ipanorama").length;u(".ipanorama").each(function(n,_){var e=u(_).data("json-src");u.ajax({url:e,type:"GET",dataType:"json"}).done(function(e){if(e.flags.googlemaps&&null==w.getElementById(h)){var a=u("<script>");v++,w.getElementsByTagName("head").item(0).appendChild(a.get(0)),a.on("load",function(){v--}),a.attr({id:h,type:"text/javascript",src:"https://maps.google.com/maps/api/js"})}e.flags.fontawesome&&null==w.getElementById(b)&&u("<link>").attr({id:b,rel:"stylesheet",type:"text/css",href:ipanorama_globals.fontawesome_url+"?ver="+ipanorama_globals.plugin_version}).appendTo(f);e.flags.effects&&null==w.getElementById(y)&&u("<link>").attr({id:y,rel:"stylesheet",type:"text/css",href:ipanorama_globals.effects_url+"?ver="+ipanorama_globals.plugin_version}).appendTo(f);if(e.theme&&null==w.getElementById("ipnrm-theme-"+e.theme+"-css")){var n=u("<link>"),t=ipanorama_globals.theme_base_url+e.theme+".min.css?ver="+ipanorama_globals.version;n.attr({id:"ipnrm-theme-"+e.theme+"-css",rel:"stylesheet",type:"text/css",href:t}).appendTo(f)}if(e.widget&&e.widget.name&&null==w.getElementById("ipnrm-widget-"+e.widget.name+"-css")){var s=u("<link>"),i=ipanorama_globals.widget_base_url+e.widget.name+"/"+e.widget.name+".min.css?ver="+ipanorama_globals.version;s.attr({id:"ipnrm-widget-"+e.widget.name+"-css",rel:"stylesheet",type:"text/css",href:i}).appendTo(f)}if(e.widget&&e.widget.name&&null==w.getElementById("ipnrm-widget-"+e.widget.name+"-js")){var r=u("<script>");i=ipanorama_globals.widget_base_url+e.widget.name+"/"+e.widget.name+".min.js?ver="+ipanorama_globals.version;v++,w.getElementsByTagName("head").item(0).appendChild(r.get(0)),r.on("load",function(){v--}),r.attr({id:"ipnrm-widget-"+e.widget.name+"-js",type:"text/javascript",src:i})}if(e.sceneTransition&&e.sceneTransition.name&&null==w.getElementById("ipnrm-scene-transition-"+e.sceneTransition.name+"-js")){var l=u("<script>"),o=ipanorama_globals.scene_transition_base_url+e.sceneTransition.name+"/"+e.sceneTransition.name+".min.js?ver="+ipanorama_globals.version;v++,w.getElementsByTagName("head").item(0).appendChild(l.get(0)),l.on("load",function(){v--}),l.attr({id:"ipnrm-scene-transition-"+e.sceneTransition.name+"-js",type:"text/javascript",src:o})}var p=u(_).data("item-id");if(null==w.getElementById("ipnrm-"+p+"-main-css")){var m=u("<link>"),g=ipanorama_globals.plugin_upload_base_url+p+"/main.css?ver="+ipanorama_globals.version;m.attr({id:"ipnrm-"+p+"-main-css",rel:"stylesheet",type:"text/css",href:g}).appendTo(f)}if(e.flags.customcss&&null==w.getElementById("ipnrm-"+p+"-custom-css")){var d=u("<link>"),c=ipanorama_globals.plugin_upload_base_url+p+"/custom.css?ver="+ipanorama_globals.version;d.attr({id:"ipnrm-"+p+"-custom-css",rel:"stylesheet",type:"text/css",href:c}).appendTo(f)}}).always(function(e){if(n==r-1)var a=setInterval(function(){ipanorama_globals.settings&&ipanorama_globals.settings.styles&&t.attr({rel:"stylesheet",type:"text/css",href:ipanorama_globals.plugin_upload_base_url+"global.css?ver="+ipanorama_globals.version}).appendTo(f),0==v&&(s.attr({type:"text/javascript",src:ipanorama_globals.plugin_base_url+"three.min.js?ver="+ipanorama_globals.plugin_version}),1)&&clearInterval(a)},500)})})}})}(jQuery,window,document);